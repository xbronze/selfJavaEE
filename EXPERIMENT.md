## 实验

### 第四章 Spring AOP

#### 案例内容

学生管理系统一般包括用户模块、学生信息模块和学生成绩模块。其中，用户模块则实现学生、教师登录和退出功能；学生信息和学生成绩模块实现添加、更新、查询信息和成绩功能。由于学生只能查询本人的信息和成绩，所以每次执行操作前需要进行权限验证。而且每次操作都需要记录，以便系统后续的管理和维护。本案例将通过Spring AOP来实现学生管理系统。



#### 案例分析

（1）使用基于注解的AOP实现学生管理系统。

（2）创建用户管理接口及其实现类，在接口中定义登录和退出登录方法；在类中定义账号、密码和身份静态属性，以及获取账号和身份方法，然后重写登录和退出登录方法。

（3）创建学生信息管理接口及其实现类，并接口中定义方法，以及在类中重写方法，实现添加、更新和查询学生信息功能。

（4）创建学生成绩成绩接口及其实现类，并接口中定义方法，以及在类中重写方法，实现添加、更新和查询学生成绩功能。

（5）创建切面类，在类中定义方法获取当前时间、前置通知实现权限验证、环绕通知实现记录操作、异常通知实现记录异常信息。其中，权限验证通过用户账号和身份判断学生是否能执行当前操作，如果能则执行当前操作，否则抛出异常，中断程序。

（6）创建配置文件，在文件中指定扫描的包，并开启Bean的自动扫描功能和AOP自动配置功能。

（7）创建执行类，在类中获取用户管理类、学生信息管理类和学生成绩管理类的Bean，然后通过Bean调用相关方法，实现登录和退出系统、查询学生信息和成绩功能。